<!DOCTYPE html>
<html>
<head>
	<title>Simulador de uso de capas</title>
	<meta charset=utf-8 />
	<!--Caracteristicas para mobile -->
	<meta name="viewport" content="width=device-width, minimum-scale=1, maximum-scale=1">
	<link rel="stylesheet" href="jquery.mobile.css" /> 
	<script type="text/javascript" src="jquery-1.8.2.js"></script> 
	<script type="text/javascript" src="jquery.mobile.js"></script>
	<script type="text/javascript" src="jquery-ui.js"></script>
	<script type="text/javascript" src="jquery.ui.touch-punch.js"></script>
	<style>
		#final{
			padding: 50px 20px 20px 50px;}
		
		#Desierto{
		  position: absolute;
		  left: 0px;
		  top: 20px;
		  z-index: 1;
		}
		#Hierba{
		  position: absolute;
		  left: 0px;
		  top: 20px;
		  z-index: 2;
		}
		#Palma{
		  position: absolute;
		  left: 0px;
		  top: 20px;
		  z-index: 3;
		}
		#Agua{
		  position: absolute;
		  left: 0px;
		  top: 20px;
		  z-index: 4;
		}
		#Estanque{
		  position: absolute;
		  left: 0px;
		  top: 20px;
		  z-index: 5;
		}
		#Escorpion{
		  position: absolute;
		  left: 0px;
		  top: 20px;
		  z-index: 6;
		}
		#Hombre{
		  position: absolute;
		  left: 0px;
		  top: 20px;
		  z-index: 7;
		}
		#Camello{
		  position: absolute;
		  left: 0px;
		  top: 20px;
		  z-index: 8;
		}
		#Letrero{
		  position: absolute;
		  left: 0px;
		  top: 20px;
		  z-index: 9;
		}
		#Rocas{
		  position: absolute;
		  left: 0px;
		  top: 20px;
		  z-index: 10;
		}
		#portada {
			height   : 100%;
			margin     : 0;
			padding    : 0;
		}
		#portada .ui-content, #lst {
			min-height : 100%;
			height     : 100%;
			margin     : 0;
			padding    : 0;
		}
		#lst .ui-li {
			height : 10%;
		}
 	</style>
	<script type="text/javascript">
		//Drag and drop habilitado para touch
		$('#widget').draggable();
		//Da el atributo de drag and drop a la lista
		$( document ).on( 'pageinit', function() {
		  $( "#lst" ).listview( "refresh" );
		  $( "#lst" ).sortable();
		  $( "#lst" ).disableSelection();
		  $( "#lst" ).on( "sortstop", function() {
			$( "#lst" ).listview( "refresh" );
		  });
		}); 
		function cola()
		{ i=11; //modo pila, para modo cola usar i=0;
		  $("li").each(function(){
			i--; //modo pila, para modo cola usar i++;
			document.getElementById($(this).text()).style.zIndex = i;
			console.log($(this).text());
		    });
		}
		function muestra_oculta(id){
			if (document.getElementById){ //se obtiene el id
				var el = document.getElementById(id),cambia; //se define la variable "el" igual a nuestro div
				cambia=(el.style.display == 'none') ? true : false;
				el.style.display = (el.style.display == 'none') ? 'block' : 'none'; //damos un atributo display:none que oculta el div
			}
			return cambia;
		}
		//Mostrar capa
		$(document).ready(function(){
			$('li').click(function(){
			if (muestra_oculta($(this).text()))
			{
				$(this).css('background-color', '');
				}
			else
			{
				$(this).css('background-color', 'mistyrose');
				}
			});
		  });
	</script>
</head>
<body>
	<div data-role="page"  id="portada">
		<div data-role="header" data-theme="b" data-position="fixed">
			<a href="#imagen" onclick="cola()" data-role="button" data-icon="grid" data-iconpos="notext" class="ui-btn-right">Imagen resultante</a>
			<h1>Capas</h1>
        </div>
		<div data-role="content">  
			<ul data-role="listview" data-inset="true" data-theme="c" id="lst">
				<li><img src="desierto.png" height="40px">Desierto</img></li>
				<li><img src="hierba.png" height="40px" class="ui-li-icon">Hierba</img></li>
				<li><img src="palma.png" height="40px">Palma</img></li>
				<li><img src="agua.png" height="40px">Agua</img></li>
				<li><img src="estanque.png" height="40px">Estanque</img></li>
				<li><img src="escorpion.png" height="40px">Escorpion</img></li>
				<li><img src="hombre.png" height="40px">Hombre</img></li>
				<li><img src="camello.png" height="40px">Camello</img></li>
				<li><img src="letrero.png" height="40px">Letrero</img></li>
				<li><img src="rocas.png" height="40px">Rocas</img></li>
			</ul>
		</div><!-- content -->
		<div data-role="footer" data-theme="b" data-position="fixed">
			<h3>CBBC Dise&ntilde;o Gr&aacute;fico</h3>
		</div> 
	</div><!-- portada -->
	<div data-role="page"  id="imagen">
		<div data-role="header" data-theme="b" data-position="fixed">
			<a href="#portada" data-role="button" ata-icon="home" data-iconpos="notext" class="ui-btn-right">Capas</a>
            <h1>Imagen final</h1>
        </div>
		<div data-role="content" id="final">
		
			<div id="Desierto">
			
				<img src="cdesierto.png" width=100% >
			</div>
			<div id="Hierba">
				<img src="chierba.png" width=100% >
			</div>
			<div id="Palma">
				<img src="cpalma.png" width=100% >
			</div>
			<div id="Agua">
				<img src="cagua.png"width=100%  >
			</div>
			<div id="Estanque">
				<img src="cestanque.png"width=100%  >
			</div>
			<div id="Escorpion">
				<img src="cescorpion.png" width=100% >
			</div>
			<div id="Hombre">
				<img src="chombre.png" width=100% >
			</div>
			<div id="Camello">
				<img src="ccamello.png" width=100% >
			</div>
			<div id="Letrero">
				<img src="cletrero.png" width=100% >
			</div>
			<div id="Rocas">
				<img src="crocas.png" width=100% >
			</div>
		</div>
		<!--sin pie -->
	</div>	
</body>
</html>

